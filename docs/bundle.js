(()=>{"use strict";var t={891:(t,e,n)=>{var r=n(780),o=(0,r.qj)({msg:"Hello World",number:1}),i=(0,r.Fl)((function(){return o.number+1}));new r.CP((function(){document.getElementById("app").innerHTML="\n    <p>当前data的状态是：</p>\n    ".concat(JSON.stringify(o),"\n    <p>请在控制台输入data，分别改变data.msg尝试效果</p>\n    <p>data.msg被watch了，可以打印出新旧值的变化</p>\n    msg is ").concat(o.msg," <br>\n  ")})),new r.CP((function(){document.getElementById("app2").innerHTML="\n  <p>请在控制台改变data.number尝试computed效果</p>\n  <p>data.number现在是".concat(o.number,"</p>\n    computed: 1 + number 是 ").concat(i.value,"\n  ")})),(0,r.YP)((function(){return o.msg}),(function(t,e){console.log("newVal: ",t),console.log("old: ",e)})),window.data=o},780:(t,e,n)=>{function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{CP:()=>d,Fl:()=>h,qj:()=>l,YP:()=>b});var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,"subs",void 0),this.subs=new Set}var e,n;return e=t,(n=[{key:"depend",value:function(){t.target&&this.subs.add(t.target)}},{key:"notify",value:function(){this.subs.forEach((function(t){return t.update()}))}}])&&r(e.prototype,n),t}();o(i,"target",void 0);var a=[];function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var c=function(t){return null!==t&&"object"===u(t)},l=function(t){return c(t)&&Object.keys(t).forEach((function(e){!function(t,e){var n=t[e],r=new i;Object.defineProperty(t,e,{get:function(){return r.depend(),n},set:function(t){n=t,r.notify()}}),c(n)&&l(n)}(t,e)})),t};function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,t),p(this,"getter",void 0),p(this,"computed",void 0),p(this,"value",void 0),p(this,"watch",void 0),p(this,"callback",void 0),p(this,"dep",void 0),this.getter=e;var r=n.computed,o=void 0!==r&&r,a=n.watch,u=void 0!==a&&a,c=n.callback;this.getter=e,this.computed=o,this.watch=u,this.callback=c,this.value=void 0,o?this.dep=new i:this.get()}var e,n;return e=t,(n=[{key:"get",value:function(){return this,i.target&&a.push(i.target),i.target=this,this.value=this.getter(),i.target=a.pop(),this.value}},{key:"update",value:function(){if(this.computed)this.get(),this.dep.notify();else if(this.watch){var t=this.value;this.get(),this.callback&&this.callback(this.value,t)}else this.get()}},{key:"depend",value:function(){this.dep.depend()}}])&&f(e.prototype,n),t}(),h=function(t){var e={},n=new d(t,{computed:!0});return Object.defineProperty(e,"value",{get:function(){return n.depend(),n.get()}}),e},b=function(t,e){new d(t,{watch:!0,callback:e})}}},e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n(780),n(891)})();